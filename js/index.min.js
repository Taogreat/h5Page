window.onload=function(){var y=document.querySelector("#wrap > #head > .headMain > .arrow");var D=document.querySelectorAll("#wrap > #head > .headMain > .nav > ul > li");var C=document.querySelectorAll("#wrap > #head > .headMain > .nav > ul > li .up");var g=document.querySelector("#wrap > #content");var z=document.querySelectorAll("#wrap > #content > .list > li");var j=document.querySelector("#wrap > #head");var l=document.querySelector("#wrap > #content > .list");var d=document.querySelectorAll("#wrap > #content > .list >.home .home1 > li");var u=document.querySelectorAll("#wrap > #content > .list >.home .home2 > li");var a=document.querySelector("#wrap > #content > .list >.home .home1");var o=document.querySelectorAll("#wrap > #content > .list >.about .about3 > .item > ul");var x=document.querySelectorAll("#wrap > #content > .dot > li");var m=document.querySelectorAll("#wrap > #content > .list >.team .team3 ul li");var n=document.querySelector("#wrap > #content > .list >.team .team3");var v=document.querySelector("#wrap > #head > .headMain > .music");var q=document.querySelector("#wrap > #head > .headMain > .music > audio");var f=document.querySelector("#wrap > #mask > .line");var H=document.querySelectorAll("#wrap > #mask > div");var F=document.querySelector("#wrap > #mask");var E=0;var e=0;A();function A(){var L=["bg1.jpg","bg2.jpg","bg3.jpg","bg4.jpg","bg5.jpg","about1.jpg","about2.jpg","about3.jpg","about4.jpg","worksimg1.jpg","worksimg2.jpg","worksimg3.jpg","worksimg4.jpg","team.png","greenLine.png"];var M=0;for(var O=0;O<L.length;O++){var N=new Image();N.src="img/h5Project/"+L[O];N.onload=function(){M++;f.style.width=M/L.length*100+"%"}}f.addEventListener("transitionend",function(){if(M==L.length){for(var P=0;P<H.length;P++){H[P].style.height=0+"px"}this.style.display="none"}});H[0].addEventListener("transitionend",function(){F.remove();q.play();K()})}v.onclick=function(){if(q.paused){q.play();v.style.background="url(../img/h5Project/musicon.gif)"}else{q.pause();v.style.background="url(../img/h5Project/musicoff.gif)"}};var B=[{inAn:function(){var L=document.querySelector("#wrap > #content > .list >.home .home1");var i=document.querySelector("#wrap > #content > .list >.home .home2");L.style.transform="translateY(0)";L.style.opacity=1;i.style.transform="translateY(0)";i.style.opacity=1},outAn:function(){var L=document.querySelector("#wrap > #content > .list >.home .home1");var i=document.querySelector("#wrap > #content > .list >.home .home2");L.style.transform="translateY(-400px)";L.style.opacity=0;i.style.transform="translateY(200px)";i.style.opacity=0}},{inAn:function(){var M=document.querySelector("#content .course .plane1");var L=document.querySelector("#content .course .plane2");var i=document.querySelector("#content .course .plane3");M.style.transform="translate(0px,0px)";L.style.transform="translate(0px,0px)";i.style.transform="translate(0px,0px)"},outAn:function(){var M=document.querySelector("#content .course .plane1");var L=document.querySelector("#content .course .plane2");var i=document.querySelector("#content .course .plane3");M.style.transform="translate(-200px,-200px)";L.style.transform="translate(-200px,200px)";i.style.transform="translate(200px,-200px)"}},{inAn:function(){var L=document.querySelector("#content  .works .pencel1");var i=document.querySelector("#content  .works .pencel2");var M=document.querySelector("#content  .works .pencel3");L.style.transform="translateY(0px)";i.style.transform="translateY(0px)";M.style.transform="translateY(0px)"},outAn:function(){var L=document.querySelector("#content  .works .pencel1");var i=document.querySelector("#content  .works .pencel2");var M=document.querySelector("#content  .works .pencel3");L.style.transform="translateY(-100px)";i.style.transform="translateY(100px)";M.style.transform="translateY(100px)"}},{inAn:function(){var L=document.querySelector("#wrap > #content > .list >.about .about3 > .item:nth-of-type(1)");var i=document.querySelector("#wrap > #content > .list >.about .about3 > .item:nth-of-type(2)");L.style.transform="rotate(0deg)";i.style.transform="rotate(0deg)"},outAn:function(){var L=document.querySelector("#wrap > #content > .list >.about .about3 > .item:nth-of-type(1)");var i=document.querySelector("#wrap > #content > .list >.about .about3 > .item:nth-of-type(2)");L.style.transform="rotate(45deg)";i.style.transform="rotate(-45deg)"}},{inAn:function(){var L=document.querySelector("#wrap > #content > .list >.team .team1");var i=document.querySelector("#wrap > #content > .list >.team .team2");L.style.transform="translateX(0px)";i.style.transform="translateX(0px)"},outAn:function(){var L=document.querySelector("#wrap > #content > .list >.team .team1");var i=document.querySelector("#wrap > #content > .list >.team .team2");L.style.transform="translateX(-200px)";i.style.transform="translateX(200px)"}}];for(var G=0;G<B.length;G++){B[G]["outAn"]()}setTimeout(function(){B[0]["inAn"]()},2000);window.onresize=function(){r();y.style.left=D[E].offsetLeft+D[E].offsetWidth/2-y.offsetWidth/2+"px";l.style.top=-E*(document.documentElement.clientHeight-j.offsetHeight)+"px"};var w=0;if(g.addEventListener){g.addEventListener("DOMMouseScroll",function(i){i=i||event;clearTimeout(w);w=setTimeout(function(){t(i)},200)})}g.onmousewheel=function(i){i=i||event;clearTimeout(w);w=setTimeout(function(){t(i)},200)};var I="";function t(i){if(i.wheelDelta){I=i.wheelDelta>0?"up":"down"}else{if(i.detail){I=i.detail<0?"up":"down"}}e=E;switch(I){case"up":if(E>0){E--;k(E)}break;case"down":if(E<z.length-1){E++;k(E)}break}}c();function c(){C[0].style.width="100%";y.style.left=D[0].offsetLeft+D[0].offsetWidth/2-y.offsetWidth/2+"px";for(var L=0;L<D.length;L++){D[L].index=L;D[L].onclick=function(){e=E;k(this.index);E=this.index}}for(var L=0;L<x.length;L++){x[L].index=L;x[L].onclick=function(){e=E;k(this.index);E=this.index}}}function k(L){for(var M=0;M<C.length;M++){C[M].style.width=""}y.style.left=D[L].offsetLeft+D[L].offsetWidth/2-y.offsetWidth/2+"px";C[L].style.width="100%";l.style.top=-L*(document.documentElement.clientHeight-j.offsetHeight)+"px";for(var M=0;M<x.length;M++){x[M].className=""}x[L].className="active";if(B[L]["inAn"]&&typeof B[L]["inAn"]==="function"){B[L]["inAn"]()}if(B[e]["outAn"]&&typeof B[e]["outAn"]==="function"){B[e]["outAn"]()}}r();function r(){g.style.height=document.documentElement.clientHeight-j.offsetHeight+"px";for(var L=0;L<z.length;L++){z[L].style.height=document.documentElement.clientHeight-j.offsetHeight+"px"}}var J=0;var s=0;var p=0;function K(){for(var M=0;M<u.length;M++){u[M].index=M;u[M].onclick=function(){clearInterval(s);for(var N=0;N<u.length;N++){u[N].classList.remove("active")}this.classList.add("active");if(J<this.index){d[J].classList.remove("rightHide");d[J].classList.remove("rightShow");d[J].classList.remove("leftShow");d[J].classList.add("leftHide");d[this.index].classList.remove("rightHide");d[this.index].classList.remove("leftHide");d[this.index].classList.remove("leftShow");d[this.index].classList.add("rightShow")}if(J>this.index){d[J].classList.remove("rightShow");d[J].classList.remove("leftShow");d[J].classList.remove("leftHide");d[J].classList.add("rightHide");d[this.index].classList.remove("rightHide");d[this.index].classList.remove("rightShow");d[this.index].classList.remove("leftHide");d[this.index].classList.add("leftShow")}J=this.index;p=this.index;L()}}L();function L(){clearInterval(s);s=setInterval(function(){p++;if(p==d.length){p=0}for(var N=0;N<u.length;N++){u[N].classList.remove("active")}u[p].classList.add("active");d[J].classList.remove("rightHide");d[J].classList.remove("rightShow");d[J].classList.remove("leftShow");d[J].classList.add("leftHide");d[p].classList.remove("rightHide");d[p].classList.remove("leftHide");d[p].classList.remove("leftShow");d[p].classList.add("rightShow");J=p},3000)}a.onmouseenter=function(){clearInterval(s)};a.onmouseleave=function(){L()}}h();function h(){for(var L=0;L<o.length;L++){M(o[L])}function M(S){var T=S.dataset.src;var P=S.offsetWidth/2;var R=S.offsetHeight/2;for(var Q=0;Q<4;Q++){var O=document.createElement("li");var N=document.createElement("img");N.src=T;O.style.width=P+"px";O.style.height=R+"px";N.style.left=-(Q%2)*P+"px";N.style.top=-Math.floor(Q/2)*R+"px";O.appendChild(N);S.appendChild(O)}S.onmouseenter=function(){var i=this.querySelectorAll("li > img");i[0].style.top=R+"px";i[1].style.left=-2*P+"px";i[2].style.left=P+"px";i[3].style.top=-2*R+"px"};S.onmouseleave=function(){var i=this.querySelectorAll("li>img");i[0].style.top=0+"px";i[1].style.left=-P+"px";i[2].style.left=0+"px";i[3].style.top=-R+"px"}}}b();function b(){var Q=null;var R=0;var P=0;for(var N=0;N<m.length;N++){m[N].onmouseenter=function(){for(var S=0;S<m.length;S++){m[S].style.opacity=0.5}this.style.opacity=1;L();Q.style.left=this.offsetLeft+"px"}}function L(){if(!Q){Q=document.createElement("canvas");Q.width=m[0].offsetWidth;Q.height=m[0].offsetHeight*2/3;n.appendChild(Q);M()}Q.onmouseleave=function(){for(var S=0;S<m.length;S++){m[S].style.opacity=1}O()}}function O(){Q.remove();Q=null;clearInterval(R);clearInterval(P)}function M(){if(Q.getContext){var S=Q.getContext("2d");var i=[];R=setInterval(function(){S.clearRect(0,0,Q.width,Q.height);for(var T=0;T<i.length;T++){i[T].deg+=5;i[T].x=i[T].startX+Math.sin(i[T].deg*Math.PI/180)*i[T].step*2;i[T].y=i[T].startY-(i[T].deg*Math.PI/180)*i[T].step;if(i[T].y<=50){i.splice(T,1)}}for(var T=0;T<i.length;T++){S.save();S.fillStyle="rgba("+i[T].red+","+i[T].green+","+i[T].blue+","+i[T].alp+")";S.beginPath();S.arc(i[T].x,i[T].y,i[T].r,0,2*Math.PI);S.fill();S.restore()}},1000/60);P=setInterval(function(){var T=Math.random()*6+2;var ac=Math.random()*Q.width;var ab=Math.random()*Q.height-T;var W=Math.round(Math.random()*255);var X=Math.round(Math.random()*255);var ad=Math.round(Math.random()*255);var aa=1;var U=0;var Z=ac;var Y=ab;var V=Math.random()*20+10;i.push({x:ac,y:ab,r:T,red:W,green:X,blue:ad,alp:aa,step:V,startX:Z,startY:Y,deg:U})},50)}}}};